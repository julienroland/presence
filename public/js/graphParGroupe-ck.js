(function(e){var t=[],n={},r={},i=150,s=document.getElementById("graphPresenceParGroupe"),o=s.getContext("2d");e(function(){a();f()});var u=function(){var e=0;for(var t=0;t<Object.keys(n).length;t++)e+=typeof n[t]=="number"?n[t]:0;return e},a=function(){e.ajax({async:!1,url:"config.json",success:function(e){oColorData=e.color.groupe;for(var n=0;n<=oColorData.length-1;n++)t[oColorData[n].groupe]=oColorData[n].color}})},f=function(){o,lastend=0,total=100,offset=Math.PI/2;$data=e(".dataGraph li");var r=0;e.each($data,function(){n[r]={percent:Number(e(this).attr("data-percent")),groupe:e(this).attr("data-groupe")};r++});var a=u(),f=0,l=s.width-(s.width-i*2-50),c=s.height;o.clearRect(0,0,l,c);o.fillStyle="#CCC";o.beginPath();o.arc(l/2,c/2,i,0,2*Math.PI,!1);o.fill();for(var r=0;r<Object.keys(n).length;r++){o.fillStyle=t[n[r].groupe];o.beginPath();o.moveTo(l/2,c/2);var h=Math.PI*(2*n[r].percent/total);o.arc(l/2,c/2,i,lastend,lastend+h,!1);o.lineTo(l/2,c/2);o.fill();o.closePath();lastend+=h;o.beginPath();o.fillStyle=t[n[r].groupe];o.rect(l,c/c+r*40,20,20);o.fill();o.stroke();o.closePath();o.font="18pt palatino, 'palatino lt std', 'palatino linotype', 'book antiqua', garamond, serif";o.fillStyle="rgb(0,0,0)";o.fillText(n[r].groupe+" ("+n[r].percent+"%)",l+30,c/c+r*40+20)}}}).call(this,jQuery);